<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DUO+ | Register</title>
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
    <!-- Bootstrap + HopeUI -->
    <link href="../assets/css/hope-ui.min.css" rel="stylesheet">
    <link href="../assets/css/custom.css" rel="stylesheet">
    <!-- Air Datepicker -->
    <link rel="stylesheet" href="../assets/vendor/air-datepicker/air-datepicker.min.css">
</head>

<!-- ============================================================================
     REGISTRATION PAGE - Multi-step form with validation
     ============================================================================ -->

<body class="d-flex align-items-start justify-content-center v-center-page" style="padding: 20px 0; overflow: hidden; height: 100vh;">
    <div class="container text-center login-container">

        <!-- ====== LOGO SECTION ====== -->
        <div class="logo-section mb-3">
            <img src="../assets/images/DUOPlusDropLogo.png"
                 alt="DUO Logo"
                 class="mb-3"
                 style="width: 180px;">
        </div>

        <!-- ====== PAGE TITLE ====== -->
        <h5 class="subtitle-text fw-medium mb-4" style="color: #174593;">
            Create an account to start receiving <br>free care through DUO
        </h5>

        <!-- ====== PROGRESS INDICATOR ====== -->
        <div class="progress-indicator mb-4 mt-4">
            <div class="d-flex justify-content-center align-items-center gap-2">
                <div class="step-circle active" id="stepCircle1"><span>1</span></div>
                <div class="step-line" id="stepLine1"></div>
                <div class="step-circle" id="stepCircle2"><span>2</span></div>
                <div class="step-line" id="stepLine2"></div>
                <div class="step-circle" id="stepCircle3"><span>3</span></div>
                <div class="step-line" id="stepLine3"></div>
                <div class="step-circle" id="stepCircle4"><span>4</span></div>
                <div class="step-line" id="stepLine4"></div>
                <div class="step-circle" id="stepCircle5"><span>5</span></div>
            </div>
        </div>

        <!-- ====== REGISTRATION CARD ====== -->
        <div class="card shadow-lg border-0 rounded-4 mb-4 mt-4">
            <div class="card-body p-4">
                <form id="clientRegisterForm" novalidate method="POST" action="../api/register.php">

                    <!-- STEP 1: Email & Password -->
                    <div id="step1" class="registration-step">
                        <div class="form-floating mb-3 text-start">
                            <input type="email" id="txtRegClientEmail" class="form-control" placeholder="ex: johndoe@gmail.com" required aria-describedby="emailError">
                            <label for="txtRegClientEmail" class="form-label fw-semibold">Email</label>
                            <div class="invalid-feedback" id="emailError" aria-live="polite">Please enter an email address.</div>
                        </div>

                        <div class="form-floating mb-3 text-start">
                            <input type="password" id="txtRegClientPassword" class="form-control" placeholder="ex: password123" required aria-describedby="passwordError">
                            <label for="txtRegClientPassword" class="form-label fw-semibold">Password</label>
                            <div class="invalid-feedback" id="passwordError" aria-live="polite">Please enter a password.</div>
                        </div>

                        <div class="form-check form-switch text-start mb-3">
                            <input class="form-check-input" type="checkbox" id="toggleClientPassword" aria-label="Show password">
                            <label class="form-check-label" for="toggleClientPassword">Show password</label>
                        </div>

                        <button id="btnStep1Next" type="button" style="background-color: #174593;" class="btn btn-primary w-100 rounded-2">Next</button>
                    </div>

                    <!-- STEP 2: Personal Information -->
                    <div id="step2" class="registration-step" style="display: none;">
                        <!-- First, Middle, Last Name -->
                        <div class="row g-2 mb-3">
                            <div class="col-5">
                                <div class="form-floating">
                                    <input type="text" id="txtFirstName" class="form-control form-control-sm" placeholder="John" pattern="[A-Za-z\s'-]+" required>
                                    <label for="txtFirstName" class="form-label">First Name <span class="text-danger">*</span></label>
                                </div>
                            </div>
                            <div class="col-2">
                                <div class="form-floating">
                                    <input type="text" id="txtMiddleInitial" class="form-control form-control-sm" placeholder="M" pattern="[A-Za-z]" maxlength="1">
                                    <label for="txtMiddleInitial" class="form-label">MI</label>
                                </div>
                            </div>
                            <div class="col-5">
                                <div class="form-floating">
                                    <input type="text" id="txtLastName" class="form-control form-control-sm" placeholder="Doe" pattern="[A-Za-z\s'-]+" required>
                                    <label for="txtLastName" class="form-label">Last Name <span class="text-danger">*</span></label>
                                </div>
                            </div>
                        </div>

                        <!-- Sex Selection (Radio Button Group) -->
                        <div class="mb-3 text-start">
                            <label class="form-label d-block mb-2">Sex <span class="text-danger">*</span></label>
                            <div class="btn-group w-100" role="group" aria-label="Sex selection">
                                <input type="radio" class="btn-check" name="selectSex" id="sexMale" value="male" autocomplete="off">
                                <label class="btn btn-outline-primary flex-fill" for="sexMale">Male</label>

                                <input type="radio" class="btn-check" name="selectSex" id="sexFemale" value="female" autocomplete="off">
                                <label class="btn btn-outline-primary flex-fill" for="sexFemale">Female</label>

                                <input type="radio" class="btn-check" name="selectSex" id="sexOther" value="other" autocomplete="off">
                                <label class="btn btn-outline-primary flex-fill" for="sexOther">Other</label>
                            </div>
                        </div>

                        <!-- Date of Birth & Phone Number -->
                        <div class="row g-2 mb-3">
                            <div class="col-6">
                                <div class="form-floating">
                                    <input type="text" id="txtDOB" class="form-control form-control-sm" placeholder="mm/dd/yyyy" required readonly>
                                    <label for="txtDOB" class="form-label">Date of Birth <span class="text-danger">*</span></label>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-floating">
                                    <input type="tel" id="txtPhoneNumber" class="form-control form-control-sm" placeholder="(555) 123-4567">
                                    <label for="txtPhoneNumber" class="form-label">Phone Number</label>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex gap-2 mt-2">
                            <button id="btnStep2Back" type="button" style="background-color: #174593;" class="btn btn-primary btn-sm rounded-2 flex-fill">Back</button>
                            <button id="btnStep2Next" type="button" style="background-color: #174593;" class="btn btn-primary btn-sm rounded-2 flex-fill">Next</button>
                        </div>
                    </div>

                    <!-- STEP 3: Address Information -->
                    <div id="step3" class="registration-step" style="display: none;">
                        <div class="form-check mb-3 text-start">
                            <input class="form-check-input" type="checkbox" id="chkNoAddress">
                            <label class="form-check-label ms-2" for="chkNoAddress">I don't have a permanent address</label>
                        </div>

                        <div id="addressFields" style="display: block;">
                            <!-- Street Address 1 -->
                            <div class="mb-3">
                                <div class="form-floating">
                                    <input type="text" id="txtStreetAddress" class="form-control form-control-sm" placeholder="123 Main St" required>
                                    <label for="txtStreetAddress" class="form-label">Street Address <span class="text-danger">*</span></label>
                                </div>
                            </div>

                            <!-- Street Address 2 (Optional) -->
                            <div class="mb-3">
                                <div class="form-floating">
                                    <input type="text" id="txtStreetAddress2" class="form-control form-control-sm" placeholder="Apt, Suite, Unit, etc.">
                                    <label for="txtStreetAddress2" class="form-label">Street Address 2</label>
                                </div>
                            </div>

                            <!-- City, State, ZIP -->
                            <div class="row g-2 mb-3">
                                <div class="col-4">
                                    <div class="form-floating">
                                        <input type="text" id="txtCity" class="form-control form-control-sm" placeholder="Nashville" required>
                                        <label for="txtCity" class="form-label">City <span class="text-danger">*</span></label>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="form-floating">
                                        <select id="txtState" class="form-select form-select-sm" required>
                                            <option value="" disabled selected hidden>Select</option>
                                            <option value="AL">Alabama</option>
                                            <option value="AK">Alaska</option>
                                            <option value="AZ">Arizona</option>
                                            <option value="AR">Arkansas</option>
                                            <option value="CA">California</option>
                                            <option value="CO">Colorado</option>
                                            <option value="CT">Connecticut</option>
                                            <option value="DE">Delaware</option>
                                            <option value="FL">Florida</option>
                                            <option value="GA">Georgia</option>
                                            <option value="HI">Hawaii</option>
                                            <option value="ID">Idaho</option>
                                            <option value="IL">Illinois</option>
                                            <option value="IN">Indiana</option>
                                            <option value="IA">Iowa</option>
                                            <option value="KS">Kansas</option>
                                            <option value="KY">Kentucky</option>
                                            <option value="LA">Louisiana</option>
                                            <option value="ME">Maine</option>
                                            <option value="MD">Maryland</option>
                                            <option value="MA">Massachusetts</option>
                                            <option value="MI">Michigan</option>
                                            <option value="MN">Minnesota</option>
                                            <option value="MS">Mississippi</option>
                                            <option value="MO">Missouri</option>
                                            <option value="MT">Montana</option>
                                            <option value="NE">Nebraska</option>
                                            <option value="NV">Nevada</option>
                                            <option value="NH">New Hampshire</option>
                                            <option value="NJ">New Jersey</option>
                                            <option value="NM">New Mexico</option>
                                            <option value="NY">New York</option>
                                            <option value="NC">North Carolina</option>
                                            <option value="ND">North Dakota</option>
                                            <option value="OH">Ohio</option>
                                            <option value="OK">Oklahoma</option>
                                            <option value="OR">Oregon</option>
                                            <option value="PA">Pennsylvania</option>
                                            <option value="RI">Rhode Island</option>
                                            <option value="SC">South Carolina</option>
                                            <option value="SD">South Dakota</option>
                                            <option value="TN">Tennessee</option>
                                            <option value="TX">Texas</option>
                                            <option value="UT">Utah</option>
                                            <option value="VT">Vermont</option>
                                            <option value="VA">Virginia</option>
                                            <option value="WA">Washington</option>
                                            <option value="WV">West Virginia</option>
                                            <option value="WI">Wisconsin</option>
                                            <option value="WY">Wyoming</option>
                                        </select>
                                        <label for="txtState" class="form-label">State <span class="text-danger">*</span></label>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="form-floating">
                                        <input type="text" id="txtZip" class="form-control form-control-sm" placeholder="37201" maxlength="5" required>
                                        <label for="txtZip" class="form-label">ZIP <span class="text-danger">*</span></label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex gap-2 mt-2">
                            <button id="btnStep3Back" type="button" style="background-color: #174593;" class="btn btn-primary btn-sm rounded-2 flex-fill">Back</button>
                            <button id="btnStep3Submit" type="button" style="background-color: #174593;" class="btn btn-primary btn-sm rounded-2 flex-fill">Next</button>
                        </div>
                    </div>

                </form>
            </div>
        </div>

        <!-- ====== FOOTER ====== -->
        <div class="text-center mt-4" id="footerSection">
            <a href="../index.html" class="fw-semibold d-block mb-4 text-decoration-none" style="color: #174593;">Back To Login</a>
            <p class="mb-2 fw-semibold">Contact Us</p>
            <p class="mb-2">info@duomobilemission.com</p>
            <p class="mb-0">(931) 284-4802</p>
        </div>

    </div>

    <!-- ====== TESTING NAVIGATION (Remove before production) ====== -->
    <div style="position: fixed; bottom: 10px; right: 10px; display: flex; gap: 5px; flex-wrap: wrap; max-width: 200px; z-index: 9999;">
        <button onclick="showStep(1)" class="btn btn-outline-secondary btn-sm" style="font-size: 0.7rem; padding: 0.3rem 0.5rem;">Step 1</button>
        <button onclick="showStep(2)" class="btn btn-outline-secondary btn-sm" style="font-size: 0.7rem; padding: 0.3rem 0.5rem;">Step 2</button>
        <button onclick="showStep(3)" class="btn btn-outline-secondary btn-sm" style="font-size: 0.7rem; padding: 0.3rem 0.5rem;">Step 3</button>
        <button onclick="showStep(4)" class="btn btn-outline-secondary btn-sm" style="font-size: 0.7rem; padding: 0.3rem 0.5rem;">Step 4</button>
        <button onclick="showStep(5)" class="btn btn-outline-secondary btn-sm" style="font-size: 0.7rem; padding: 0.3rem 0.5rem;">Step 5</button>
    </div>

    <!-- ====== SCRIPTS ====== -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="../assets/js/alerts/sweetalert2.all.min.js"></script>
    <script src="../assets/vendor/air-datepicker/air-datepicker.min.js"></script>
    <script src="../js/register.js"></script>
</body>
</html>